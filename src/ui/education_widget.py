#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
æ•™è‚²åŠŸèƒ½ç•Œé¢
æä¾›åŸç†è§£é‡Šã€æ“ä½œæŒ‡å¯¼å’Œå­¦ä¹ èµ„æº
"""

import sys
from pathlib import Path
from typing import Dict, List

from PyQt5.QtWidgets import (
    QWidget, QVBoxLayout, QHBoxLayout, QGridLayout,
    QLabel, QPushButton, QTextEdit, QTabWidget,
    QGroupBox, QScrollArea, QTreeWidget, QTreeWidgetItem,
    QSplitter, QFrame, QComboBox, QListWidget, QListWidgetItem
)
from PyQt5.QtCore import Qt, pyqtSignal
from PyQt5.QtGui import QFont, QPixmap, QIcon

# æ·»åŠ srcç›®å½•åˆ°Pythonè·¯å¾„
sys.path.insert(0, str(Path(__file__).parent.parent))

from core.logger import get_logger
from core.config_manager import ConfigManager


class PrincipleExplanationWidget(QWidget):
    """åŸç†è§£é‡Šæ§ä»¶"""
    
    def __init__(self):
        super().__init__()
        self.init_ui()
        self.load_principles()
    
    def init_ui(self):
        """åˆå§‹åŒ–ç•Œé¢"""
        layout = QHBoxLayout(self)
        
        # åˆ›å»ºåˆ†å‰²å™¨
        splitter = QSplitter(Qt.Horizontal)
        layout.addWidget(splitter)
        
        # å·¦ä¾§ï¼šä¸»é¢˜åˆ—è¡¨
        topics_group = QGroupBox("å­¦ä¹ ä¸»é¢˜")
        topics_layout = QVBoxLayout(topics_group)
        
        self.topics_tree = QTreeWidget()
        self.topics_tree.setHeaderLabel("ä¸»é¢˜")
        self.topics_tree.itemClicked.connect(self.on_topic_selected)
        topics_layout.addWidget(self.topics_tree)
        
        splitter.addWidget(topics_group)
        
        # å³ä¾§ï¼šå†…å®¹æ˜¾ç¤º
        content_group = QGroupBox("å†…å®¹è¯¦æƒ…")
        content_layout = QVBoxLayout(content_group)
        
        # æ ‡é¢˜
        self.content_title = QLabel("è¯·é€‰æ‹©ä¸€ä¸ªå­¦ä¹ ä¸»é¢˜")
        self.content_title.setFont(QFont("Microsoft YaHei UI", 12, QFont.Bold))
        self.content_title.setAlignment(Qt.AlignCenter)
        content_layout.addWidget(self.content_title)
        
        # å†…å®¹æ–‡æœ¬
        self.content_text = QTextEdit()
        self.content_text.setReadOnly(True)
        self.content_text.setFont(QFont("Microsoft YaHei UI", 10))
        self.content_text.setStyleSheet("""
            QTextEdit {
                border: 1px solid #ddd;
                border-radius: 5px;
                padding: 10px;
                background-color: #2b2b2b;
                color: #ffffff;
                selection-background-color: #3d3d3d;
            }
        """)
        content_layout.addWidget(self.content_text)
        
        splitter.addWidget(content_group)
        
        # è®¾ç½®åˆ†å‰²å™¨æ¯”ä¾‹
        splitter.setSizes([300, 700])
    
    def load_principles(self):
        """åŠ è½½åŸç†å†…å®¹"""
        principles = {
            "è®¾å¤‡æŒ‡çº¹åŸºç¡€": {
                "ä»€ä¹ˆæ˜¯è®¾å¤‡æŒ‡çº¹": """
è®¾å¤‡æŒ‡çº¹ï¼ˆDevice Fingerprintingï¼‰æ˜¯ä¸€ç§é€šè¿‡æ”¶é›†è®¾å¤‡çš„å„ç§ç‰¹å¾ä¿¡æ¯æ¥å”¯ä¸€æ ‡è¯†è®¾å¤‡çš„æŠ€æœ¯ã€‚

ä¸»è¦ç‰¹å¾åŒ…æ‹¬ï¼š
â€¢ ç¡¬ä»¶ç‰¹å¾ï¼šCPUå‹å·ã€å†…å­˜å¤§å°ã€ç¡¬ç›˜ä¿¡æ¯ç­‰
â€¢ ç½‘ç»œç‰¹å¾ï¼šMACåœ°å€ã€IPåœ°å€ã€ç½‘ç»œé…ç½®ç­‰
â€¢ ç³»ç»Ÿç‰¹å¾ï¼šæ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€å®‰è£…çš„è½¯ä»¶ç­‰
â€¢ è¡Œä¸ºç‰¹å¾ï¼šä½¿ç”¨ä¹ æƒ¯ã€è®¿é—®æ¨¡å¼ç­‰

è®¾å¤‡æŒ‡çº¹æŠ€æœ¯å¹¿æ³›åº”ç”¨äºï¼š
â€¢ ç”¨æˆ·èº«ä»½éªŒè¯
â€¢ åæ¬ºè¯ˆæ£€æµ‹
â€¢ å¹¿å‘ŠæŠ•æ”¾
â€¢ å®‰å…¨ç›‘æ§
                """,
                "è®¾å¤‡æŒ‡çº¹çš„å·¥ä½œåŸç†": """
è®¾å¤‡æŒ‡çº¹çš„å·¥ä½œåŸç†åŸºäºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

1. ä¿¡æ¯æ”¶é›†
   - é€šè¿‡å„ç§APIå’Œç³»ç»Ÿè°ƒç”¨æ”¶é›†è®¾å¤‡ä¿¡æ¯
   - åŒ…æ‹¬ç¡¬ä»¶ã€è½¯ä»¶ã€ç½‘ç»œç­‰å¤šç»´åº¦ä¿¡æ¯

2. ç‰¹å¾æå–
   - ä»æ”¶é›†çš„ä¿¡æ¯ä¸­æå–å…³é”®ç‰¹å¾
   - å»é™¤æ˜“å˜çš„ä¿¡æ¯ï¼Œä¿ç•™ç¨³å®šç‰¹å¾

3. æŒ‡çº¹ç”Ÿæˆ
   - å°†ç‰¹å¾ä¿¡æ¯ç»„åˆæˆå”¯ä¸€æ ‡è¯†
   - é€šå¸¸ä½¿ç”¨å“ˆå¸Œç®—æ³•ç”ŸæˆæŒ‡çº¹

4. æŒ‡çº¹åŒ¹é…
   - å°†æ–°ç”Ÿæˆçš„æŒ‡çº¹ä¸å·²çŸ¥æŒ‡çº¹æ¯”è¾ƒ
   - åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€è®¾å¤‡
                """,
                "å¸¸è§çš„æŒ‡çº¹æŠ€æœ¯": """
å¸¸è§çš„è®¾å¤‡æŒ‡çº¹æŠ€æœ¯åŒ…æ‹¬ï¼š

1. æµè§ˆå™¨æŒ‡çº¹
   - User-Agentå­—ç¬¦ä¸²
   - å±å¹•åˆ†è¾¨ç‡å’Œé¢œè‰²æ·±åº¦
   - æ—¶åŒºå’Œè¯­è¨€è®¾ç½®
   - æ’ä»¶å’Œå­—ä½“åˆ—è¡¨

2. ç¡¬ä»¶æŒ‡çº¹
   - CPUä¿¡æ¯å’Œæ€§èƒ½ç‰¹å¾
   - GPUä¿¡æ¯å’Œæ¸²æŸ“èƒ½åŠ›
   - éŸ³é¢‘è®¾å¤‡ç‰¹å¾
   - ä¼ æ„Ÿå™¨æ•°æ®

3. ç½‘ç»œæŒ‡çº¹
   - IPåœ°å€å’Œåœ°ç†ä½ç½®
   - ç½‘ç»œå»¶è¿Ÿç‰¹å¾
   - MTUå¤§å°
   - TCP/IPæ ˆç‰¹å¾

4. è¡Œä¸ºæŒ‡çº¹
   - é¼ æ ‡ç§»åŠ¨æ¨¡å¼
   - é”®ç›˜è¾“å…¥èŠ‚å¥
   - è§¦æ‘¸å±æ“ä½œä¹ æƒ¯
                """
            },
            "MACåœ°å€ç®¡ç†": {
                "MACåœ°å€åŸºç¡€": """
MACåœ°å€ï¼ˆMedia Access Control Addressï¼‰æ˜¯ç½‘ç»œè®¾å¤‡çš„ç‰©ç†åœ°å€ã€‚

ç‰¹ç‚¹ï¼š
â€¢ é•¿åº¦ï¼š48ä½ï¼ˆ6å­—èŠ‚ï¼‰
â€¢ æ ¼å¼ï¼šXX:XX:XX:XX:XX:XX
â€¢ å”¯ä¸€æ€§ï¼šç†è®ºä¸Šå…¨çƒå”¯ä¸€
â€¢ åˆ†é…ï¼šç”±IEEEç»Ÿä¸€åˆ†é…ç»™å‚å•†

MACåœ°å€ç»“æ„ï¼š
â€¢ å‰24ä½ï¼šå‚å•†æ ‡è¯†ç¬¦ï¼ˆOUIï¼‰
â€¢ å24ä½ï¼šè®¾å¤‡æ ‡è¯†ç¬¦

å¸¸è§ç”¨é€”ï¼š
â€¢ ç½‘ç»œé€šä¿¡ä¸­çš„è®¾å¤‡è¯†åˆ«
â€¢ ç½‘ç»œè®¿é—®æ§åˆ¶
â€¢ è®¾å¤‡è·Ÿè¸ªå’Œç®¡ç†
                """,
                "MACåœ°å€ä¿®æ”¹åŸç†": """
MACåœ°å€ä¿®æ”¹çš„æŠ€æœ¯åŸç†ï¼š

1. è½¯ä»¶å±‚é¢ä¿®æ”¹
   - ä¿®æ”¹ç½‘ç»œé©±åŠ¨ç¨‹åºä¸­çš„MACåœ°å€
   - é€šè¿‡ç³»ç»ŸAPIæ›´æ”¹ç½‘å¡é…ç½®
   - é‡å¯ç½‘ç»œæœåŠ¡ä½¿ä¿®æ”¹ç”Ÿæ•ˆ

2. ä¿®æ”¹æ–¹æ³•ï¼ˆWindowsï¼‰
   - æ³¨å†Œè¡¨ä¿®æ”¹
   - è®¾å¤‡ç®¡ç†å™¨ä¿®æ”¹
   - å‘½ä»¤è¡Œå·¥å…·ä¿®æ”¹

3. ä¿®æ”¹æ–¹æ³•ï¼ˆmacOS/Linuxï¼‰
   - ifconfigå‘½ä»¤
   - ipå‘½ä»¤
   - ç½‘ç»œé…ç½®æ–‡ä»¶ä¿®æ”¹

æ³¨æ„äº‹é¡¹ï¼š
â€¢ ä¿®æ”¹å¯èƒ½å½±å“ç½‘ç»œè¿æ¥
â€¢ æŸäº›ç½‘å¡ä¸æ”¯æŒMACåœ°å€ä¿®æ”¹
â€¢ ä¿®æ”¹åéœ€è¦é‡å¯ç½‘ç»œæ¥å£
                """,
                "MACåœ°å€å®‰å…¨è€ƒè™‘": """
MACåœ°å€ç›¸å…³çš„å®‰å…¨è€ƒè™‘ï¼š

1. éšç§ä¿æŠ¤
   - MACåœ°å€å¯ç”¨äºè®¾å¤‡è·Ÿè¸ª
   - å…¬å…±WiFiç¯å¢ƒä¸‹çš„éšç§é£é™©
   - éšæœºåŒ–MACåœ°å€çš„é‡è¦æ€§

2. ç½‘ç»œå®‰å…¨
   - MACåœ°å€æ¬ºéª—æ”»å‡»
   - ARPæ¬ºéª—å’Œä¸­é—´äººæ”»å‡»
   - ç½‘ç»œè®¿é—®æ§åˆ¶ç»•è¿‡

3. é˜²æŠ¤æªæ–½
   - å®šæœŸæ›´æ¢MACåœ°å€
   - ä½¿ç”¨VPNä¿æŠ¤ç½‘ç»œæµé‡
   - å…³é—­ä¸å¿…è¦çš„ç½‘ç»œå‘ç°åŠŸèƒ½

4. æ³•å¾‹å’Œä¼¦ç†
   - éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„
   - ä»…åœ¨æˆæƒç¯å¢ƒä¸‹è¿›è¡Œæµ‹è¯•
   - å°Šé‡ä»–äººéšç§æƒ
                """
            },
            "ç³»ç»Ÿå®‰å…¨": {
                "æƒé™ç®¡ç†": """
æ“ä½œç³»ç»Ÿæƒé™ç®¡ç†åŸºç¡€ï¼š

1. Windowsæƒé™æ¨¡å‹
   - ç”¨æˆ·è´¦æˆ·æ§åˆ¶ï¼ˆUACï¼‰
   - ç®¡ç†å‘˜æƒé™å’Œæ ‡å‡†ç”¨æˆ·æƒé™
   - è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆACLï¼‰

2. macOSæƒé™æ¨¡å‹
   - ç³»ç»Ÿå®Œæ•´æ€§ä¿æŠ¤ï¼ˆSIPï¼‰
   - ç®¡ç†å‘˜æƒé™å’Œæ ‡å‡†ç”¨æˆ·æƒé™
   - æƒé™è¯·æ±‚æœºåˆ¶

3. æƒé™æå‡
   - åˆæ³•çš„æƒé™æå‡æ–¹æ³•
   - æƒé™æå‡çš„å®‰å…¨é£é™©
   - æœ€å°æƒé™åŸåˆ™

4. å®‰å…¨æœ€ä½³å®è·µ
   - å®šæœŸå®¡æŸ¥æƒé™è®¾ç½®
   - ä½¿ç”¨å¼ºå¯†ç å’Œå¤šå› ç´ è®¤è¯
   - åŠæ—¶æ›´æ–°ç³»ç»Ÿå’Œè½¯ä»¶
                """,
                "æ³¨å†Œè¡¨å®‰å…¨": """
Windowsæ³¨å†Œè¡¨å®‰å…¨ç®¡ç†ï¼š

1. æ³¨å†Œè¡¨åŸºç¡€
   - æ³¨å†Œè¡¨çš„ç»“æ„å’Œä½œç”¨
   - ä¸»è¦çš„æ³¨å†Œè¡¨é”®å€¼
   - æ³¨å†Œè¡¨çš„å¤‡ä»½å’Œæ¢å¤

2. å®‰å…¨é£é™©
   - æ¶æ„è½¯ä»¶ä¿®æ”¹æ³¨å†Œè¡¨
   - é”™è¯¯ä¿®æ”¹å¯¼è‡´ç³»ç»Ÿæ•…éšœ
   - éšç§ä¿¡æ¯æ³„éœ²

3. ä¿æŠ¤æªæ–½
   - å®šæœŸå¤‡ä»½æ³¨å†Œè¡¨
   - ä½¿ç”¨æ³¨å†Œè¡¨ç›‘æ§å·¥å…·
   - é™åˆ¶æ³¨å†Œè¡¨è®¿é—®æƒé™

4. æœ€ä½³å®è·µ
   - è°¨æ…ä¿®æ”¹ç³»ç»Ÿå…³é”®é”®å€¼
   - ä½¿ç”¨ä¸“ä¸šå·¥å…·è¿›è¡Œä¿®æ”¹
   - å»ºç«‹ä¿®æ”¹è®°å½•å’Œå›æ»šè®¡åˆ’
                """
            }
        }
        
        # æ„å»ºæ ‘å½¢ç»“æ„
        for category, topics in principles.items():
            category_item = QTreeWidgetItem(self.topics_tree)
            category_item.setText(0, category)
            category_item.setData(0, Qt.UserRole, {"type": "category", "content": ""})
            
            for topic, content in topics.items():
                topic_item = QTreeWidgetItem(category_item)
                topic_item.setText(0, topic)
                topic_item.setData(0, Qt.UserRole, {"type": "topic", "content": content})
        
        # å±•å¼€æ‰€æœ‰é¡¹ç›®
        self.topics_tree.expandAll()
    
    def on_topic_selected(self, item: QTreeWidgetItem, column: int):
        """ä¸»é¢˜é€‰æ‹©äº‹ä»¶"""
        data = item.data(0, Qt.UserRole)
        if data and data["type"] == "topic":
            self.content_title.setText(item.text(0))
            self.content_text.setPlainText(data["content"])


class OperationGuideWidget(QWidget):
    """æ“ä½œæŒ‡å¯¼æ§ä»¶"""
    
    def __init__(self):
        super().__init__()
        self.init_ui()
        self.load_guides()
    
    def init_ui(self):
        """åˆå§‹åŒ–ç•Œé¢"""
        layout = QHBoxLayout(self)

        # åˆ›å»ºåˆ†å‰²å™¨
        splitter = QSplitter(Qt.Horizontal)
        layout.addWidget(splitter)

        # å·¦ä¾§ï¼šæ“ä½œåˆ—è¡¨
        operations_group = QGroupBox("æ“ä½œæŒ‡å¯¼")
        operations_layout = QVBoxLayout(operations_group)

        self.operations_tree = QTreeWidget()
        self.operations_tree.setHeaderLabel("æ“ä½œç±»å‹")
        self.operations_tree.itemClicked.connect(self.on_operation_selected)
        operations_layout.addWidget(self.operations_tree)

        splitter.addWidget(operations_group)

        # å³ä¾§ï¼šæŒ‡å¯¼å†…å®¹
        content_group = QGroupBox("è¯¦ç»†æŒ‡å¯¼")
        content_layout = QVBoxLayout(content_group)

        # å†…å®¹æ ‡é¢˜
        self.content_title = QLabel("é€‰æ‹©å·¦ä¾§æ“ä½œæŸ¥çœ‹è¯¦ç»†æŒ‡å¯¼")
        self.content_title.setFont(QFont("Microsoft YaHei UI", 12, QFont.Bold))
        self.content_title.setStyleSheet("color: #2c3e50; padding: 10px;")
        content_layout.addWidget(self.content_title)

        # å†…å®¹æ–‡æœ¬
        self.guide_text = QTextEdit()
        self.guide_text.setReadOnly(True)
        self.guide_text.setFont(QFont("Microsoft YaHei UI", 10))
        self.guide_text.setStyleSheet("""
            QTextEdit {
                border: 1px solid #ddd;
                border-radius: 5px;
                padding: 10px;
                background-color: #2b2b2b;
                color: #ffffff;
                selection-background-color: #3d3d3d;
            }
        """)
        content_layout.addWidget(self.guide_text)

        splitter.addWidget(content_group)

        # è®¾ç½®åˆ†å‰²å™¨æ¯”ä¾‹
        splitter.setSizes([300, 500])
    
    def load_guides(self):
        """åŠ è½½æ“ä½œæŒ‡å¯¼"""
        self.guides = {
            "è®¾å¤‡æŒ‡çº¹ç®¡ç†": {
                "ä¿®æ”¹MACåœ°å€": """# MACåœ°å€ä¿®æ”¹æ“ä½œæŒ‡å¯¼

## å‰æœŸå‡†å¤‡

### æ­¥éª¤1ï¼šå¤‡ä»½å½“å‰é…ç½®
â€¢ è®°å½•å½“å‰MACåœ°å€
â€¢ åˆ›å»ºç³»ç»Ÿå¤‡ä»½ç‚¹
â€¢ ç¡®ä¿æœ‰æ¢å¤æ–¹æ¡ˆ

### æ­¥éª¤2ï¼šæ£€æŸ¥æƒé™
â€¢ ç¡®è®¤å…·æœ‰ç®¡ç†å‘˜æƒé™
â€¢ å…³é—­ç›¸å…³å®‰å…¨è½¯ä»¶
â€¢ å‡†å¤‡æƒé™æå‡

## æ‰§è¡Œæ“ä½œ

### æ­¥éª¤3ï¼šæ‰§è¡Œä¿®æ”¹
â€¢ æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨
â€¢ æ‰¾åˆ°ç›®æ ‡ç½‘ç»œé€‚é…å™¨
â€¢ ä¿®æ”¹é«˜çº§å±æ€§ä¸­çš„ç½‘ç»œåœ°å€

### æ­¥éª¤4ï¼šéªŒè¯ä¿®æ”¹
â€¢ é‡å¯ç½‘ç»œé€‚é…å™¨
â€¢ æ£€æŸ¥æ–°MACåœ°å€
â€¢ æµ‹è¯•ç½‘ç»œè¿æ¥

## é—®é¢˜å¤„ç†

### æ­¥éª¤5ï¼šæ•…éšœæ’é™¤
â€¢ å¦‚æœç½‘ç»œæ— æ³•è¿æ¥ï¼Œæ¢å¤åŸMACåœ°å€
â€¢ æ£€æŸ¥ç½‘å¡é©±åŠ¨æ˜¯å¦æ”¯æŒMACä¿®æ”¹
â€¢ å¿…è¦æ—¶é‡å¯ç³»ç»Ÿ

## æ³¨æ„äº‹é¡¹
âš ï¸ æŸäº›ç½‘å¡ä¸æ”¯æŒMACåœ°å€ä¿®æ”¹
âš ï¸ ä¿®æ”¹åå¯èƒ½éœ€è¦é‡æ–°è¿æ¥ç½‘ç»œ
âš ï¸ ä¼ä¸šç½‘ç»œå¯èƒ½æœ‰MACåœ°å€ç™½åå•
""",
                "ä¿®æ”¹æœºå™¨GUID": """# æœºå™¨GUIDä¿®æ”¹æ“ä½œæŒ‡å¯¼

## é£é™©è¯„ä¼°

### æ­¥éª¤1ï¼šç†è§£é£é™©
â€¢ æœºå™¨GUIDæ˜¯ç³»ç»Ÿé‡è¦æ ‡è¯†
â€¢ ä¿®æ”¹å¯èƒ½å½±å“è½¯ä»¶æ¿€æ´»
â€¢ æŸäº›ç¨‹åºå¯èƒ½æ— æ³•æ­£å¸¸è¿è¡Œ

### æ­¥éª¤2ï¼šåˆ›å»ºå¤‡ä»½
â€¢ å¤‡ä»½æ³¨å†Œè¡¨ç›¸å…³é”®å€¼
â€¢ è®°å½•åŸå§‹GUIDå€¼
â€¢ åˆ›å»ºç³»ç»Ÿè¿˜åŸç‚¹

## æ‰§è¡Œæ“ä½œ

### æ­¥éª¤3ï¼šä¿®æ”¹æ³¨å†Œè¡¨
â€¢ æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨
â€¢ å¯¼èˆªåˆ°HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography
â€¢ ä¿®æ”¹MachineGuidé”®å€¼

### æ­¥éª¤4ï¼šç”Ÿæˆæ–°GUID
â€¢ ä½¿ç”¨GUIDç”Ÿæˆå·¥å…·
â€¢ ç¡®ä¿æ ¼å¼æ­£ç¡®
â€¢ é¿å…ä½¿ç”¨å·²çŸ¥çš„GUID

## éªŒè¯æµ‹è¯•

### æ­¥éª¤5ï¼šéªŒè¯å’Œæµ‹è¯•
â€¢ é‡å¯ç³»ç»Ÿ
â€¢ æ£€æŸ¥ç³»ç»ŸåŠŸèƒ½
â€¢ æµ‹è¯•ç›¸å…³è½¯ä»¶

## æ³¨æ„äº‹é¡¹
âš ï¸ ä¿®æ”¹GUIDå¯èƒ½å¯¼è‡´è½¯ä»¶è®¸å¯é—®é¢˜
âš ï¸ æŸäº›ç³»ç»ŸæœåŠ¡å¯èƒ½å—åˆ°å½±å“
âš ï¸ å»ºè®®åœ¨è™šæ‹Ÿæœºä¸­å…ˆè¡Œæµ‹è¯•
""",
                "æ¢å¤åŸå§‹è®¾ç½®": """# æ¢å¤åŸå§‹è®¾ç½®æ“ä½œæŒ‡å¯¼

## æ¢å¤å‡†å¤‡

### æ­¥éª¤1ï¼šç¡®è®¤æ¢å¤éœ€æ±‚
â€¢ ç¡®å®šéœ€è¦æ¢å¤çš„è®¾ç½®é¡¹
â€¢ æ£€æŸ¥å¤‡ä»½æ–‡ä»¶çš„å®Œæ•´æ€§
â€¢ è¯„ä¼°æ¢å¤çš„å½±å“èŒƒå›´

### æ­¥éª¤2ï¼šå‡†å¤‡æ¢å¤ç¯å¢ƒ
â€¢ ç¡®ä¿ç³»ç»Ÿç¨³å®šè¿è¡Œ
â€¢ å…³é—­ä¸å¿…è¦çš„ç¨‹åº
â€¢ å‡†å¤‡ç®¡ç†å‘˜æƒé™

## æ‰§è¡Œæ¢å¤

### æ­¥éª¤3ï¼šé€‰æ‹©æ¢å¤æ–¹å¼
â€¢ ä½¿ç”¨ç³»ç»Ÿå¤‡ä»½æ¢å¤
â€¢ æ‰‹åŠ¨æ¢å¤å•é¡¹è®¾ç½®
â€¢ ä½¿ç”¨å·¥å…·è‡ªåŠ¨æ¢å¤

### æ­¥éª¤4ï¼šæ‰§è¡Œæ¢å¤æ“ä½œ
â€¢ æŒ‰ç…§å¤‡ä»½æ—¶é—´é€‰æ‹©æ¢å¤ç‚¹
â€¢ ç¡®è®¤æ¢å¤çš„è®¾ç½®é¡¹
â€¢ æ‰§è¡Œæ¢å¤æ“ä½œ

## éªŒè¯ç»“æœ

### æ­¥éª¤5ï¼šéªŒè¯æ¢å¤ç»“æœ
â€¢ æ£€æŸ¥æ¢å¤çš„è®¾ç½®æ˜¯å¦æ­£ç¡®
â€¢ æµ‹è¯•ç³»ç»ŸåŠŸèƒ½æ˜¯å¦æ­£å¸¸
â€¢ ç¡®è®¤ç½‘ç»œè¿æ¥çŠ¶æ€

## æ³¨æ„äº‹é¡¹
âš ï¸ æ¢å¤æ“ä½œå¯èƒ½éœ€è¦é‡å¯ç³»ç»Ÿ
âš ï¸ éƒ¨åˆ†è®¾ç½®æ¢å¤åéœ€è¦é‡æ–°é…ç½®
âš ï¸ å»ºè®®é€é¡¹éªŒè¯æ¢å¤ç»“æœ
"""
            },
            "ç³»ç»Ÿå¤‡ä»½ç®¡ç†": {
                "åˆ›å»ºç³»ç»Ÿå¤‡ä»½": """# åˆ›å»ºç³»ç»Ÿå¤‡ä»½æ“ä½œæŒ‡å¯¼

## å¤‡ä»½å‡†å¤‡

### æ­¥éª¤1ï¼šè¯„ä¼°å¤‡ä»½éœ€æ±‚
â€¢ ç¡®å®šéœ€è¦å¤‡ä»½çš„å†…å®¹
â€¢ é€‰æ‹©åˆé€‚çš„å¤‡ä»½ç±»å‹
â€¢ ä¼°ç®—æ‰€éœ€å­˜å‚¨ç©ºé—´

### æ­¥éª¤2ï¼šå‡†å¤‡å¤‡ä»½ç¯å¢ƒ
â€¢ æ£€æŸ¥ç£ç›˜ç©ºé—´
â€¢ ç¡®ä¿ç³»ç»Ÿç¨³å®š
â€¢ å…³é—­ä¸å¿…è¦çš„ç¨‹åº

## æ‰§è¡Œå¤‡ä»½

### æ­¥éª¤3ï¼šé…ç½®å¤‡ä»½é€‰é¡¹
â€¢ é€‰æ‹©å¤‡ä»½è·¯å¾„
â€¢ è®¾ç½®å¤‡ä»½ç±»å‹ï¼ˆå®Œæ•´/å¢é‡ï¼‰
â€¢ é…ç½®å‹ç¼©å’ŒåŠ å¯†é€‰é¡¹

### æ­¥éª¤4ï¼šæ‰§è¡Œå¤‡ä»½æ“ä½œ
â€¢ å¯åŠ¨å¤‡ä»½è¿›ç¨‹
â€¢ ç›‘æ§å¤‡ä»½è¿›åº¦
â€¢ å¤„ç†å¯èƒ½çš„é”™è¯¯

## éªŒè¯å¤‡ä»½

### æ­¥éª¤5ï¼šéªŒè¯å¤‡ä»½å®Œæ•´æ€§
â€¢ æ£€æŸ¥å¤‡ä»½æ–‡ä»¶å¤§å°
â€¢ éªŒè¯å¤‡ä»½æ–‡ä»¶å®Œæ•´æ€§
â€¢ æµ‹è¯•å¤‡ä»½æ–‡ä»¶å¯è¯»æ€§

## æ³¨æ„äº‹é¡¹
âš ï¸ å¤‡ä»½è¿‡ç¨‹ä¸­é¿å…ä¿®æ”¹ç³»ç»Ÿè®¾ç½®
âš ï¸ ç¡®ä¿å¤‡ä»½å­˜å‚¨ä½ç½®å®‰å…¨å¯é 
âš ï¸ å®šæœŸéªŒè¯å¤‡ä»½æ–‡ä»¶çš„æœ‰æ•ˆæ€§
""",
                "æ¢å¤ç³»ç»Ÿå¤‡ä»½": """# æ¢å¤ç³»ç»Ÿå¤‡ä»½æ“ä½œæŒ‡å¯¼

## æ¢å¤å‡†å¤‡

### æ­¥éª¤1ï¼šé€‰æ‹©æ¢å¤ç‚¹
â€¢ æŸ¥çœ‹å¯ç”¨çš„å¤‡ä»½æ–‡ä»¶
â€¢ æ ¹æ®æ—¶é—´é€‰æ‹©åˆé€‚çš„æ¢å¤ç‚¹
â€¢ ç¡®è®¤å¤‡ä»½æ–‡ä»¶å®Œæ•´æ€§

### æ­¥éª¤2ï¼šå‡†å¤‡æ¢å¤ç¯å¢ƒ
â€¢ ç¡®ä¿ç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€
â€¢ å…³é—­æ‰€æœ‰åº”ç”¨ç¨‹åº
â€¢ å‡†å¤‡ç®¡ç†å‘˜æƒé™

## æ‰§è¡Œæ¢å¤

### æ­¥éª¤3ï¼šé…ç½®æ¢å¤é€‰é¡¹
â€¢ é€‰æ‹©æ¢å¤èŒƒå›´
â€¢ è®¾ç½®æ¢å¤ç­–ç•¥
â€¢ ç¡®è®¤æ¢å¤ç›®æ ‡

### æ­¥éª¤4ï¼šæ‰§è¡Œæ¢å¤æ“ä½œ
â€¢ å¯åŠ¨æ¢å¤è¿›ç¨‹
â€¢ ç›‘æ§æ¢å¤è¿›åº¦
â€¢ å¤„ç†æ¢å¤è¿‡ç¨‹ä¸­çš„é—®é¢˜

## éªŒè¯æ¢å¤

### æ­¥éª¤5ï¼šéªŒè¯æ¢å¤ç»“æœ
â€¢ æ£€æŸ¥æ¢å¤çš„è®¾ç½®
â€¢ æµ‹è¯•ç³»ç»ŸåŠŸèƒ½
â€¢ ç¡®è®¤æ‰€æœ‰æœåŠ¡æ­£å¸¸

## æ³¨æ„äº‹é¡¹
âš ï¸ æ¢å¤æ“ä½œä¸å¯é€†ï¼Œè¯·è°¨æ…æ“ä½œ
âš ï¸ æ¢å¤åå¯èƒ½éœ€è¦é‡å¯ç³»ç»Ÿ
âš ï¸ å»ºè®®åœ¨æ¢å¤å‰åˆ›å»ºå½“å‰çŠ¶æ€å¤‡ä»½
"""
            }
        }

        # æ„å»ºæ ‘å½¢ç»“æ„
        self.operations_tree.clear()
        for category, operations in self.guides.items():
            category_item = QTreeWidgetItem(self.operations_tree)
            category_item.setText(0, category)
            category_item.setData(0, Qt.UserRole, {"type": "category", "name": category})

            for operation, content in operations.items():
                operation_item = QTreeWidgetItem(category_item)
                operation_item.setText(0, operation)
                operation_item.setData(0, Qt.UserRole, {
                    "type": "operation",
                    "name": operation,
                    "content": content
                })

        # å±•å¼€æ‰€æœ‰é¡¹ç›®
        self.operations_tree.expandAll()

    def on_operation_selected(self, item, column):
        """æ“ä½œé€‰æ‹©äº‹ä»¶"""
        data = item.data(0, Qt.UserRole)
        if data and data["type"] == "operation":
            self.content_title.setText(data["name"])
            # ä½¿ç”¨setPlainTextè€Œä¸æ˜¯setMarkdownï¼Œå› ä¸ºPyQt5å¯èƒ½ä¸æ”¯æŒ
            self.guide_text.setPlainText(data["content"])



class LearningResourcesWidget(QWidget):
    """å­¦ä¹ èµ„æºæ§ä»¶"""
    
    def __init__(self):
        super().__init__()
        self.init_ui()
        self.load_resources()
    
    def init_ui(self):
        """åˆå§‹åŒ–ç•Œé¢"""
        layout = QHBoxLayout(self)

        # åˆ›å»ºåˆ†å‰²å™¨
        splitter = QSplitter(Qt.Horizontal)
        layout.addWidget(splitter)

        # å·¦ä¾§ï¼šèµ„æºåˆ†ç±»
        categories_group = QGroupBox("å­¦ä¹ èµ„æº")
        categories_layout = QVBoxLayout(categories_group)

        self.resources_tree = QTreeWidget()
        self.resources_tree.setHeaderLabel("èµ„æºåˆ†ç±»")
        self.resources_tree.itemClicked.connect(self.on_resource_selected)
        categories_layout.addWidget(self.resources_tree)

        splitter.addWidget(categories_group)

        # å³ä¾§ï¼šèµ„æºå†…å®¹
        content_group = QGroupBox("è¯¦ç»†å†…å®¹")
        content_layout = QVBoxLayout(content_group)

        # å†…å®¹æ ‡é¢˜
        self.content_title = QLabel("é€‰æ‹©å·¦ä¾§èµ„æºæŸ¥çœ‹è¯¦ç»†å†…å®¹")
        self.content_title.setFont(QFont("Microsoft YaHei UI", 12, QFont.Bold))
        self.content_title.setStyleSheet("color: #2c3e50; padding: 10px;")
        content_layout.addWidget(self.content_title)

        # å†…å®¹æ–‡æœ¬
        self.resources_text = QTextEdit()
        self.resources_text.setReadOnly(True)
        self.resources_text.setFont(QFont("Microsoft YaHei UI", 10))
        self.resources_text.setStyleSheet("""
            QTextEdit {
                border: 1px solid #ddd;
                border-radius: 5px;
                padding: 10px;
                background-color: #2b2b2b;
                color: #ffffff;
                selection-background-color: #3d3d3d;
            }
        """)
        content_layout.addWidget(self.resources_text)

        splitter.addWidget(content_group)

        # è®¾ç½®åˆ†å‰²å™¨æ¯”ä¾‹
        splitter.setSizes([300, 500])
    
    def load_resources(self):
        """åŠ è½½å­¦ä¹ èµ„æº"""
        self.resources = {
            "æŠ€æœ¯æ–‡æ¡£": {
                "IEEE 802æ ‡å‡†æ–‡æ¡£": """# IEEE 802æ ‡å‡†æ–‡æ¡£

## æ–‡æ¡£æ¦‚è¿°
IEEE 802æ ‡å‡†æ˜¯å±€åŸŸç½‘å’ŒåŸåŸŸç½‘çš„é‡è¦æŠ€æœ¯æ ‡å‡†ï¼Œæ¶µç›–äº†ç½‘ç»œåè®®å’ŒMACåœ°å€ç›¸å…³çš„å®˜æ–¹è§„èŒƒã€‚

## ä¸»è¦å†…å®¹
- **MACåœ°å€åˆ†é…è§„åˆ™**: å¦‚ä½•åˆ†é…å’Œç®¡ç†MACåœ°å€
- **ç½‘ç»œåè®®æ ‡å‡†**: ä»¥å¤ªç½‘ã€æ— çº¿ç½‘ç»œç­‰åè®®è§„èŒƒ
- **è®¾å¤‡è¯†åˆ«æœºåˆ¶**: ç½‘ç»œè®¾å¤‡çš„å”¯ä¸€æ ‡è¯†æ–¹æ³•

## å­¦ä¹ ä»·å€¼
- ç†è§£MACåœ°å€çš„å®˜æ–¹å®šä¹‰å’Œæ ‡å‡†
- æŒæ¡ç½‘ç»œè®¾å¤‡è¯†åˆ«çš„æŠ€æœ¯åŸç†
- äº†è§£ç½‘ç»œåè®®çš„åº•å±‚å®ç°

## è®¿é—®æ–¹å¼
- å®˜æ–¹ç½‘ç«™: https://standards.ieee.org/standard/802-2014.html
- å¯é€šè¿‡IEEEå®˜ç½‘å…è´¹æŸ¥é˜…éƒ¨åˆ†å†…å®¹
- å®Œæ•´æ–‡æ¡£éœ€è¦è´­ä¹°æˆ–é€šè¿‡å­¦æœ¯æœºæ„è®¿é—®

## ç›¸å…³æ ‡å‡†
- IEEE 802.3: ä»¥å¤ªç½‘æ ‡å‡†
- IEEE 802.11: æ— çº¿å±€åŸŸç½‘æ ‡å‡†
- IEEE 802.1: ç½‘ç»œæ¶æ„å’Œç®¡ç†æ ‡å‡†
""",
                "Windowsæ³¨å†Œè¡¨å‚è€ƒ": """# Windowsæ³¨å†Œè¡¨å‚è€ƒ

## æ–‡æ¡£æ¦‚è¿°
Microsoftå®˜æ–¹çš„Windowsæ³¨å†Œè¡¨å®Œæ•´å‚è€ƒæ–‡æ¡£ï¼Œè¯¦ç»†ä»‹ç»äº†æ³¨å†Œè¡¨çš„ç»“æ„ã€åŠŸèƒ½å’Œç®¡ç†æ–¹æ³•ã€‚

## æ ¸å¿ƒå†…å®¹
- **æ³¨å†Œè¡¨ç»“æ„**: HKEYæ ¹é”®çš„ç»„ç»‡å’Œä½œç”¨
- **æ•°æ®ç±»å‹**: REG_SZã€REG_DWORDç­‰æ•°æ®ç±»å‹è¯´æ˜
- **å®‰å…¨æœºåˆ¶**: æ³¨å†Œè¡¨æƒé™å’Œè®¿é—®æ§åˆ¶
- **å¤‡ä»½æ¢å¤**: æ³¨å†Œè¡¨çš„å¤‡ä»½å’Œæ¢å¤æ–¹æ³•

## é‡è¦ç« èŠ‚
### ç³»ç»Ÿæ ‡è¯†ç›¸å…³
- MachineGuid: æœºå™¨å”¯ä¸€æ ‡è¯†ç¬¦
- InstallDate: ç³»ç»Ÿå®‰è£…æ—¶é—´
- ProductId: äº§å“æ ‡è¯†ç¬¦

### ç½‘ç»œé…ç½®ç›¸å…³
- NetworkCards: ç½‘ç»œé€‚é…å™¨é…ç½®
- Tcpip: TCP/IPåè®®é…ç½®
- Interfaces: ç½‘ç»œæ¥å£è®¾ç½®

## å­¦ä¹ å»ºè®®
1. å…ˆç†è§£æ³¨å†Œè¡¨çš„åŸºæœ¬æ¦‚å¿µ
2. é‡ç‚¹å…³æ³¨ç³»ç»Ÿæ ‡è¯†ç›¸å…³é”®å€¼
3. å®è·µæ—¶åŠ¡å¿…å…ˆå¤‡ä»½
4. ä½¿ç”¨å®˜æ–¹å·¥å…·è¿›è¡Œæ“ä½œ

## è®¿é—®åœ°å€
https://docs.microsoft.com/en-us/windows/win32/sysinfo/registry
""",
                "GUIDæŠ€æœ¯è§„èŒƒ": """# GUIDæŠ€æœ¯è§„èŒƒ

## æŠ€æœ¯æ¦‚è¿°
GUID (Globally Unique Identifier) æ˜¯å¾®è½¯å¯¹UUID (Universally Unique Identifier) çš„å®ç°ï¼Œç”¨äºåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­åˆ›å»ºå”¯ä¸€æ ‡è¯†ç¬¦ã€‚

## æŠ€æœ¯ç‰¹ç‚¹
- **å…¨å±€å”¯ä¸€æ€§**: åœ¨æ—¶é—´å’Œç©ºé—´ä¸Šä¿è¯å”¯ä¸€æ€§
- **128ä½é•¿åº¦**: æä¾›è¶³å¤Ÿå¤§çš„æ ‡è¯†ç©ºé—´
- **å¤šç§ç”Ÿæˆç®—æ³•**: æ”¯æŒä¸åŒçš„ç”Ÿæˆç­–ç•¥

## ç”Ÿæˆç®—æ³•
### ç‰ˆæœ¬1 (æ—¶é—´æˆ³+MACåœ°å€)
- åŸºäºæ—¶é—´æˆ³å’ŒMACåœ°å€ç”Ÿæˆ
- å¯ä»¥è¿½æº¯ç”Ÿæˆæ—¶é—´å’Œä½ç½®
- å­˜åœ¨éšç§æ³„éœ²é£é™©

### ç‰ˆæœ¬4 (éšæœºæ•°)
- åŸºäºéšæœºæ•°æˆ–ä¼ªéšæœºæ•°ç”Ÿæˆ
- æ— æ³•è¿½æº¯ç”Ÿæˆä¿¡æ¯
- æ¨èç”¨äºéšç§æ•æ„Ÿåœºæ™¯

## åœ¨Windowsä¸­çš„åº”ç”¨
- **æœºå™¨GUID**: æ ‡è¯†è®¡ç®—æœºç¡¬ä»¶
- **è½¯ä»¶æ ‡è¯†**: åº”ç”¨ç¨‹åºå’Œç»„ä»¶æ ‡è¯†
- **ç”¨æˆ·æ ‡è¯†**: ç”¨æˆ·è´¦æˆ·å’Œä¼šè¯æ ‡è¯†

## æ ¼å¼è§„èŒƒ
æ ‡å‡†æ ¼å¼: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
ç¤ºä¾‹: 550e8400-e29b-41d4-a716-446655440000

## æŠ€æœ¯å‚è€ƒ
- RFC 4122: UUIDæ ‡å‡†è§„èŒƒ
- Microsoft GUIDæ–‡æ¡£
- .NET Framework GUIDç±»å‚è€ƒ
"""
            },
            "å­¦ä¹ æ•™ç¨‹": {
                "ç½‘ç»œå®‰å…¨åŸºç¡€æ•™ç¨‹": """# ç½‘ç»œå®‰å…¨åŸºç¡€æ•™ç¨‹

## è¯¾ç¨‹ç›®æ ‡
æŒæ¡ç½‘ç»œå®‰å…¨çš„åŸºç¡€æ¦‚å¿µï¼Œç†è§£è®¾å¤‡æŒ‡çº¹è¯†åˆ«æŠ€æœ¯çš„åŸç†å’Œåº”ç”¨ã€‚

## ç¬¬ä¸€ç« ï¼šç½‘ç»œåŸºç¡€çŸ¥è¯†
### 1.1 ç½‘ç»œåè®®æ ˆ
- OSIä¸ƒå±‚æ¨¡å‹
- TCP/IPåè®®æ—
- æ•°æ®é“¾è·¯å±‚å’Œç½‘ç»œå±‚

### 1.2 ç½‘ç»œè®¾å¤‡æ ‡è¯†
- MACåœ°å€çš„ä½œç”¨å’Œç»“æ„
- IPåœ°å€çš„åˆ†é…å’Œç®¡ç†
- è®¾å¤‡æŒ‡çº¹çš„æ¦‚å¿µ

## ç¬¬äºŒç« ï¼šè®¾å¤‡æŒ‡çº¹æŠ€æœ¯
### 2.1 ç¡¬ä»¶æŒ‡çº¹
- MACåœ°å€æŒ‡çº¹
- ç¡¬ä»¶åºåˆ—å·
- CPUå’Œä¸»æ¿æ ‡è¯†

### 2.2 è½¯ä»¶æŒ‡çº¹
- æ“ä½œç³»ç»ŸæŒ‡çº¹
- æµè§ˆå™¨æŒ‡çº¹
- åº”ç”¨ç¨‹åºæŒ‡çº¹

### 2.3 è¡Œä¸ºæŒ‡çº¹
- ç½‘ç»œè¡Œä¸ºæ¨¡å¼
- æ—¶é—´æ¨¡å¼åˆ†æ
- æµé‡ç‰¹å¾è¯†åˆ«

## ç¬¬ä¸‰ç« ï¼šéšç§ä¿æŠ¤æŠ€æœ¯
### 3.1 æŒ‡çº¹ä¼ªè£…æŠ€æœ¯
- MACåœ°å€éšæœºåŒ–
- User-Agentä¼ªè£…
- ç½‘ç»œä»£ç†æŠ€æœ¯

### 3.2 åŒ¿ååŒ–æŠ€æœ¯
- Torç½‘ç»œåŸç†
- VPNæŠ€æœ¯åº”ç”¨
- æ··æ·†ç½‘ç»œæµé‡

## å®è·µé¡¹ç›®
1. ç½‘ç»œè®¾å¤‡æ‰«æå®éªŒ
2. MACåœ°å€ä¿®æ”¹å®è·µ
3. è®¾å¤‡æŒ‡çº¹æ£€æµ‹å·¥å…·å¼€å‘

## å­¦ä¹ èµ„æº
- ç½‘ç»œå®‰å…¨ç›¸å…³ä¹¦ç±æ¨è
- åœ¨çº¿è¯¾ç¨‹å’Œè§†é¢‘æ•™ç¨‹
- å¼€æºå·¥å…·å’Œé¡¹ç›®
""",
                "ç³»ç»Ÿç®¡ç†å®è·µæŒ‡å—": """# ç³»ç»Ÿç®¡ç†å®è·µæŒ‡å—

## æŒ‡å—æ¦‚è¿°
æœ¬æŒ‡å—æ¶µç›–Windowså’ŒmacOSç³»ç»Ÿç®¡ç†çš„æ ¸å¿ƒæŠ€èƒ½ï¼Œé‡ç‚¹å…³æ³¨ç³»ç»Ÿæ ‡è¯†å’Œç½‘ç»œé…ç½®ç®¡ç†ã€‚

## Windowsç³»ç»Ÿç®¡ç†

### æ³¨å†Œè¡¨ç®¡ç†
#### åŸºç¡€æ“ä½œ
- æ³¨å†Œè¡¨ç¼–è¾‘å™¨çš„ä½¿ç”¨
- æ³¨å†Œè¡¨å¤‡ä»½å’Œæ¢å¤
- æƒé™ç®¡ç†å’Œå®‰å…¨è®¾ç½®

#### é«˜çº§æŠ€å·§
- æ‰¹é‡ä¿®æ”¹æ³¨å†Œè¡¨é¡¹
- æ³¨å†Œè¡¨ç›‘æ§å’Œå®¡è®¡
- è‡ªåŠ¨åŒ–è„šæœ¬ç¼–å†™

### ç½‘ç»œé…ç½®ç®¡ç†
#### ç½‘ç»œé€‚é…å™¨ç®¡ç†
- é€‚é…å™¨å±æ€§é…ç½®
- MACåœ°å€ç®¡ç†
- ç½‘ç»œåè®®è®¾ç½®

#### ç½‘ç»œè¯Šæ–­å·¥å…·
- ipconfigå‘½ä»¤è¯¦è§£
- netshå·¥å…·ä½¿ç”¨
- ç½‘ç»œè¿æ¥æ•…éšœæ’é™¤

## macOSç³»ç»Ÿç®¡ç†

### ç³»ç»Ÿé…ç½®ç®¡ç†
#### ç³»ç»Ÿåå¥½è®¾ç½®
- ç½‘ç»œé…ç½®ç®¡ç†
- å®‰å…¨å’Œéšç§è®¾ç½®
- ç”¨æˆ·å’Œç¾¤ç»„ç®¡ç†

#### å‘½ä»¤è¡Œå·¥å…·
- networksetupå‘½ä»¤
- ifconfigå‘½ä»¤ä½¿ç”¨
- ç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢

### ç½‘ç»œç®¡ç†
#### ç½‘ç»œæ¥å£ç®¡ç†
- ä»¥å¤ªç½‘é…ç½®
- Wi-Fiç½‘ç»œç®¡ç†
- ç½‘ç»œæœåŠ¡é…ç½®

## è·¨å¹³å°ç®¡ç†æŠ€å·§

### è‡ªåŠ¨åŒ–è„šæœ¬
- PowerShellè„šæœ¬ (Windows)
- Shellè„šæœ¬ (macOS/Linux)
- Pythonè‡ªåŠ¨åŒ–å·¥å…·

### ç›‘æ§å’Œæ—¥å¿—
- ç³»ç»Ÿæ—¥å¿—åˆ†æ
- ç½‘ç»œæµé‡ç›‘æ§
- æ€§èƒ½æŒ‡æ ‡æ”¶é›†

## æœ€ä½³å®è·µ
1. å®šæœŸå¤‡ä»½ç³»ç»Ÿé…ç½®
2. å»ºç«‹å˜æ›´ç®¡ç†æµç¨‹
3. å®æ–½å®‰å…¨åŸºçº¿é…ç½®
4. æŒç»­ç›‘æ§ç³»ç»ŸçŠ¶æ€

## æ•…éšœæ’é™¤æŒ‡å—
- å¸¸è§é—®é¢˜è¯Šæ–­æ–¹æ³•
- ç³»ç»Ÿæ¢å¤ç­–ç•¥
- åº”æ€¥å“åº”æµç¨‹
""",
                "è®¾å¤‡æŒ‡çº¹æ£€æµ‹æŠ€æœ¯": """# è®¾å¤‡æŒ‡çº¹æ£€æµ‹æŠ€æœ¯

## æŠ€æœ¯æ¦‚è¿°
è®¾å¤‡æŒ‡çº¹æ£€æµ‹æ˜¯é€šè¿‡æ”¶é›†è®¾å¤‡çš„å„ç§ç‰¹å¾ä¿¡æ¯ï¼Œç”Ÿæˆå”¯ä¸€æ ‡è¯†ç¬¦çš„æŠ€æœ¯ã€‚

## æ£€æµ‹ç»´åº¦

### ç¡¬ä»¶ç‰¹å¾
#### ç½‘ç»œç¡¬ä»¶
- MACåœ°å€: ç½‘ç»œé€‚é…å™¨çš„ç‰©ç†åœ°å€
- ç½‘å¡å‚å•†: é€šè¿‡OUIè¯†åˆ«åˆ¶é€ å•†
- ç½‘ç»œæ¥å£æ•°é‡: æœ‰çº¿ã€æ— çº¿æ¥å£ç»Ÿè®¡

#### ç³»ç»Ÿç¡¬ä»¶
- CPUä¿¡æ¯: å‹å·ã€æ ¸å¿ƒæ•°ã€é¢‘ç‡
- å†…å­˜é…ç½®: å®¹é‡ã€ç±»å‹ã€é€Ÿåº¦
- å­˜å‚¨è®¾å¤‡: ç¡¬ç›˜å‹å·ã€åºåˆ—å·

### è½¯ä»¶ç‰¹å¾
#### æ“ä½œç³»ç»Ÿ
- ç³»ç»Ÿç‰ˆæœ¬: Windowsã€macOSã€Linuxç‰ˆæœ¬
- ç³»ç»Ÿè¯­è¨€: åŒºåŸŸè®¾ç½®å’Œè¯­è¨€åŒ…
- å®‰è£…æ—¶é—´: ç³»ç»Ÿé¦–æ¬¡å®‰è£…æ—¶é—´

#### åº”ç”¨è½¯ä»¶
- æµè§ˆå™¨ä¿¡æ¯: ç±»å‹ã€ç‰ˆæœ¬ã€æ’ä»¶
- å®‰è£…è½¯ä»¶: è½¯ä»¶åˆ—è¡¨å’Œç‰ˆæœ¬ä¿¡æ¯
- ç³»ç»ŸæœåŠ¡: è¿è¡Œçš„ç³»ç»ŸæœåŠ¡

### é…ç½®ç‰¹å¾
#### ç½‘ç»œé…ç½®
- IPåœ°å€: å†…ç½‘å’Œå…¬ç½‘IP
- DNSè®¾ç½®: DNSæœåŠ¡å™¨é…ç½®
- ä»£ç†è®¾ç½®: HTTP/HTTPSä»£ç†é…ç½®

#### ç³»ç»Ÿé…ç½®
- æ—¶åŒºè®¾ç½®: ç³»ç»Ÿæ—¶åŒºå’Œæ—¶é—´æ ¼å¼
- æ˜¾ç¤ºè®¾ç½®: åˆ†è¾¨ç‡ã€é¢œè‰²æ·±åº¦
- å­—ä½“é…ç½®: å®‰è£…çš„å­—ä½“åˆ—è¡¨

## æ£€æµ‹æ–¹æ³•

### ä¸»åŠ¨æ£€æµ‹
- WMIæŸ¥è¯¢ (Windows)
- System Information (macOS)
- /procæ–‡ä»¶ç³»ç»Ÿ (Linux)

### è¢«åŠ¨æ£€æµ‹
- ç½‘ç»œæµé‡åˆ†æ
- åè®®æŒ‡çº¹è¯†åˆ«
- è¡Œä¸ºæ¨¡å¼åˆ†æ

## åº”ç”¨åœºæ™¯
1. **è®¾å¤‡ç®¡ç†**: ä¼ä¸šè®¾å¤‡èµ„äº§ç®¡ç†
2. **å®‰å…¨é˜²æŠ¤**: å¼‚å¸¸è®¾å¤‡æ£€æµ‹
3. **ç”¨æˆ·è¿½è¸ª**: ç”¨æˆ·è¡Œä¸ºåˆ†æ
4. **åæ¬ºè¯ˆ**: è®¾å¤‡é£é™©è¯„ä¼°

## éšç§è€ƒè™‘
- æ•°æ®æ”¶é›†çš„åˆæ³•æ€§
- ç”¨æˆ·çŸ¥æƒ…åŒæ„
- æ•°æ®å­˜å‚¨å’Œä¼ è¾“å®‰å…¨
- åŒ¿ååŒ–å¤„ç†æŠ€æœ¯

## å¯¹æŠ—æŠ€æœ¯
- æŒ‡çº¹ä¼ªè£…å’Œæ··æ·†
- è™šæ‹ŸåŒ–ç¯å¢ƒä½¿ç”¨
- ä»£ç†å’ŒVPNæŠ€æœ¯
- å®šæœŸæ›´æ¢è®¾å¤‡ç‰¹å¾
"""
            },
            "å·¥å…·è½¯ä»¶": {
                "ç½‘ç»œåˆ†æå·¥å…·": """# ç½‘ç»œåˆ†æå·¥å…·

## Wireshark
### åŠŸèƒ½ç‰¹ç‚¹
- å¼ºå¤§çš„ç½‘ç»œåè®®åˆ†æå™¨
- æ”¯æŒæ•°ç™¾ç§ç½‘ç»œåè®®
- å®æ—¶æ•è·å’Œç¦»çº¿åˆ†æ
- è·¨å¹³å°æ”¯æŒ

### ä¸»è¦ç”¨é€”
- ç½‘ç»œæ•…éšœè¯Šæ–­
- åè®®åˆ†æå’Œå­¦ä¹ 
- å®‰å…¨å®¡è®¡å’Œæ¸—é€æµ‹è¯•
- ç½‘ç»œæ€§èƒ½ä¼˜åŒ–

### å­¦ä¹ å»ºè®®
1. ä»åŸºç¡€çš„HTTP/TCPåˆ†æå¼€å§‹
2. å­¦ä¹ è¿‡æ»¤å™¨è¯­æ³•
3. æŒæ¡ç»Ÿè®¡åˆ†æåŠŸèƒ½
4. å®è·µä¸åŒåè®®çš„åˆ†æ

## Nmap
### åŠŸèƒ½ç‰¹ç‚¹
- ç½‘ç»œå‘ç°å’Œå®‰å…¨æ‰«æ
- ç«¯å£æ‰«æå’ŒæœåŠ¡è¯†åˆ«
- æ“ä½œç³»ç»ŸæŒ‡çº¹è¯†åˆ«
- è„šæœ¬å¼•æ“æ”¯æŒ

### å¸¸ç”¨å‘½ä»¤
- `nmap -sn 192.168.1.0/24`: ä¸»æœºå‘ç°
- `nmap -sS target`: TCP SYNæ‰«æ
- `nmap -O target`: æ“ä½œç³»ç»Ÿæ£€æµ‹
- `nmap --script vuln target`: æ¼æ´æ‰«æ

### å­¦ä¹ è·¯å¾„
1. åŸºç¡€æ‰«ææŠ€æœ¯
2. é«˜çº§æ‰«æé€‰é¡¹
3. è„šæœ¬å¼•æ“ä½¿ç”¨
4. ç»“æœåˆ†æå’ŒæŠ¥å‘Š
""",
                "ç³»ç»Ÿç®¡ç†å·¥å…·": """# ç³»ç»Ÿç®¡ç†å·¥å…·

## PowerShell (Windows)
### æ ¸å¿ƒç‰¹æ€§
- é¢å‘å¯¹è±¡çš„å‘½ä»¤è¡Œç•Œé¢
- å¼ºå¤§çš„è„šæœ¬ç¼–ç¨‹èƒ½åŠ›
- ä¸.NET Frameworké›†æˆ
- è¿œç¨‹ç®¡ç†æ”¯æŒ

### å¸¸ç”¨å‘½ä»¤
- `Get-WmiObject`: WMIå¯¹è±¡æŸ¥è¯¢
- `Get-NetAdapter`: ç½‘ç»œé€‚é…å™¨ä¿¡æ¯
- `Set-NetAdapter`: ç½‘ç»œé€‚é…å™¨é…ç½®
- `Get-ComputerInfo`: ç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢

### å®ç”¨è„šæœ¬ç¤ºä¾‹
```powershell
# è·å–ç½‘ç»œé€‚é…å™¨MACåœ°å€
Get-NetAdapter | Select-Object Name, MacAddress

# ä¿®æ”¹ç½‘ç»œé€‚é…å™¨MACåœ°å€
Set-NetAdapter -Name "ä»¥å¤ªç½‘" -MacAddress "00:11:22:33:44:55"
```

## Terminal (macOS)
### æ ¸å¿ƒåŠŸèƒ½
- Unixå‘½ä»¤è¡Œç¯å¢ƒ
- Shellè„šæœ¬æ”¯æŒ
- ç³»ç»Ÿç®¡ç†å’Œé…ç½®
- å¼€å‘å·¥å…·é›†æˆ

### å¸¸ç”¨å‘½ä»¤
- `ifconfig`: ç½‘ç»œæ¥å£é…ç½®
- `networksetup`: ç½‘ç»œè®¾ç½®ç®¡ç†
- `system_profiler`: ç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢
- `sudo`: æƒé™æå‡

### å®ç”¨å‘½ä»¤ç¤ºä¾‹
```bash
# æŸ¥çœ‹ç½‘ç»œæ¥å£ä¿¡æ¯
ifconfig en0

# ä¿®æ”¹MACåœ°å€
sudo ifconfig en0 ether 00:11:22:33:44:55
```

## è·¨å¹³å°å·¥å…·
### Python
- ä¸°å¯Œçš„ç½‘ç»œåº“æ”¯æŒ
- è·¨å¹³å°å…¼å®¹æ€§
- è‡ªåŠ¨åŒ–è„šæœ¬å¼€å‘
- æ•°æ®åˆ†æå’Œå¯è§†åŒ–
""",
                "å¼€å‘è°ƒè¯•å·¥å…·": """# å¼€å‘è°ƒè¯•å·¥å…·

## é›†æˆå¼€å‘ç¯å¢ƒ

### Visual Studio Code
- è½»é‡çº§ä»£ç ç¼–è¾‘å™¨
- ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€
- å†…ç½®ç»ˆç«¯å’Œè°ƒè¯•å™¨
- Gité›†æˆæ”¯æŒ

### PyCharm
- Pythonä¸“ä¸šå¼€å‘ç¯å¢ƒ
- æ™ºèƒ½ä»£ç è¡¥å…¨
- å¼ºå¤§çš„è°ƒè¯•åŠŸèƒ½
- æ•°æ®åº“å·¥å…·é›†æˆ

## è°ƒè¯•å·¥å…·

### Process Monitor (Windows)
- å®æ—¶æ–‡ä»¶ç³»ç»Ÿç›‘æ§
- æ³¨å†Œè¡¨è®¿é—®ç›‘æ§
- è¿›ç¨‹å’Œçº¿ç¨‹æ´»åŠ¨
- ç½‘ç»œæ´»åŠ¨ç›‘æ§

### Activity Monitor (macOS)
- ç³»ç»Ÿèµ„æºç›‘æ§
- è¿›ç¨‹ç®¡ç†å’Œåˆ†æ
- ç½‘ç»œæ´»åŠ¨ç›‘æ§
- ç£ç›˜ä½¿ç”¨æƒ…å†µ

## ç½‘ç»œè°ƒè¯•

### Postman
- APIæµ‹è¯•å’Œå¼€å‘
- è¯·æ±‚æ„å»ºå’Œå‘é€
- å“åº”åˆ†æå’ŒéªŒè¯
- è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬

### Burp Suite
- Webåº”ç”¨å®‰å…¨æµ‹è¯•
- HTTPä»£ç†å’Œæ‹¦æˆª
- æ¼æ´æ‰«æå’Œåˆ†æ
- æ‰©å±•æ’ä»¶æ”¯æŒ

## ç‰ˆæœ¬æ§åˆ¶

### Git
- åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶
- åˆ†æ”¯ç®¡ç†å’Œåˆå¹¶
- è¿œç¨‹ä»“åº“åŒæ­¥
- åä½œå¼€å‘æ”¯æŒ

### GitHub/GitLab
- ä»£ç æ‰˜ç®¡å¹³å°
- é¡¹ç›®ç®¡ç†å·¥å…·
- CI/CDé›†æˆ
- ç¤¾åŒºåä½œåŠŸèƒ½
"""
            }
        }

        # æ„å»ºæ ‘å½¢ç»“æ„
        self.resources_tree.clear()
        for category, resources in self.resources.items():
            category_item = QTreeWidgetItem(self.resources_tree)
            category_item.setText(0, category)
            category_item.setData(0, Qt.UserRole, {"type": "category", "name": category})

            for resource, content in resources.items():
                resource_item = QTreeWidgetItem(category_item)
                resource_item.setText(0, resource)
                resource_item.setData(0, Qt.UserRole, {
                    "type": "resource",
                    "name": resource,
                    "content": content
                })

        # å±•å¼€æ‰€æœ‰é¡¹ç›®
        self.resources_tree.expandAll()

    def on_resource_selected(self, item, column):
        """èµ„æºé€‰æ‹©äº‹ä»¶"""
        data = item.data(0, Qt.UserRole)
        if data and data["type"] == "resource":
            self.content_title.setText(data["name"])
            # ä½¿ç”¨setPlainTextè€Œä¸æ˜¯setMarkdownï¼Œå› ä¸ºPyQt5å¯èƒ½ä¸æ”¯æŒ
            self.resources_text.setPlainText(data["content"])



class EducationWidget(QWidget):
    """æ•™è‚²åŠŸèƒ½ä¸»æ§ä»¶"""
    
    def __init__(self):
        super().__init__()
        self.logger = get_logger("education_widget")
        self.config_manager = ConfigManager()
        self.init_ui()
    
    def init_ui(self):
        """åˆå§‹åŒ–ç•Œé¢"""
        layout = QVBoxLayout(self)
        
        # åˆ›å»ºæ ‡ç­¾é¡µæ§ä»¶
        self.tab_widget = QTabWidget()
        layout.addWidget(self.tab_widget)
        
        # åŸç†è§£é‡Šæ ‡ç­¾é¡µ
        self.principle_widget = PrincipleExplanationWidget()
        self.tab_widget.addTab(self.principle_widget, "åŸç†è§£é‡Š")
        
        # æ“ä½œæŒ‡å¯¼æ ‡ç­¾é¡µ
        self.guide_widget = OperationGuideWidget()
        self.tab_widget.addTab(self.guide_widget, "æ“ä½œæŒ‡å¯¼")
        
        # å­¦ä¹ èµ„æºæ ‡ç­¾é¡µ
        self.resources_widget = LearningResourcesWidget()
        self.tab_widget.addTab(self.resources_widget, "å­¦ä¹ èµ„æº")
        
        # åº•éƒ¨ä¿¡æ¯
        info_layout = QHBoxLayout()
        info_label = QLabel("ğŸ’¡ æç¤º: æœ¬å·¥å…·ä»…ç”¨äºæ•™å­¦å’Œç ”ç©¶ç›®çš„ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„")
        info_label.setStyleSheet("color: #666; font-style: italic; padding: 10px;")
        info_layout.addWidget(info_label)
        info_layout.addStretch()
        
        layout.addLayout(info_layout)
